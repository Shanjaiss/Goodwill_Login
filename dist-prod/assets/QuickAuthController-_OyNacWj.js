import{r as a,_,i as Ft,K as Ne,u as Bt,R as $,a as Tt,b as R,c as O,d as _e,e as D,f as Ie,C as ot,g as kt,h as Le,j as Ve,P as zt,k as be,l as st,m as Ht,n as at,o as lt,p as j,q as V,s as Re,t as At,v as _t,D as Lt,w as rt,x as Vt,y as qt,z as Wt,A as Gt,B as it,E as Dt,F as Ut,G as Xt,H as fe,I as Kt,J as Qt,L as ct,M as Yt,N as Zt,O as Jt,Q as en,S as x,T as ge,U as Ce,V as Fe,W as tn,X as nn}from"./index-Dck9j5RK.js";import{B as Be,c as dt,p as Te,R as ke,a as on,b as sn,d as an,u as ln,w as rn,A as se,F as ze,e as U,f as He,g as Ae,h as pe,s as cn}from"./FLCommonService-Dd0yhb-L.js";function dn(){const[e,t]=a.useState([]),o=a.useCallback(n=>(t(s=>[].concat(_(s),[n])),()=>{t(s=>s.filter(c=>c!==n))}),[]);return[e,o]}const un=new Ne("antFadeIn",{"0%":{opacity:0},"100%":{opacity:1}}),mn=new Ne("antFadeOut",{"0%":{opacity:1},"100%":{opacity:0}}),fn=(e,t=!1)=>{const{antCls:o}=e,n=`${o}-fade`,s=t?"&":"";return[Ft(n,un,mn,e.motionDurationMid,t),{[`
        ${s}${n}-enter,
        ${s}${n}-appear
      `]:{opacity:0,animationTimingFunction:"linear"},[`${s}${n}-leave`]:{animationTimingFunction:"linear"}}]};function Oe(e){return!!(e!=null&&e.then)}const ut=e=>{const{type:t,children:o,prefixCls:n,buttonProps:s,close:c,autoFocus:d,emitEvent:i,isSilent:r,quitOnNullishReturnValue:g,actionFn:l}=e,f=a.useRef(!1),u=a.useRef(null),[m,C]=Bt(!1),v=(...b)=>{c==null||c.apply(void 0,b)};a.useEffect(()=>{let b=null;return d&&(b=setTimeout(()=>{var y;(y=u.current)===null||y===void 0||y.focus({preventScroll:!0})})),()=>{b&&clearTimeout(b)}},[]);const p=b=>{Oe(b)&&(C(!0),b.then((...y)=>{C(!1,!0),v.apply(void 0,y),f.current=!1},y=>{if(C(!1,!0),f.current=!1,!(r!=null&&r()))return Promise.reject(y)}))},h=b=>{if(f.current)return;if(f.current=!0,!l){v();return}let y;if(i){if(y=l(b),g&&!Oe(y)){f.current=!1,v(b);return}}else if(l.length)y=l(c),f.current=!1;else if(y=l(),!Oe(y)){v();return}p(y)};return a.createElement(Be,Object.assign({},dt(t),{onClick:h,loading:m,prefixCls:n},s,{ref:u}),o)},ce=$.createContext({}),{Provider:mt}=ce,qe=()=>{const{autoFocusButton:e,cancelButtonProps:t,cancelTextLocale:o,isSilent:n,mergedOkCancel:s,rootPrefixCls:c,close:d,onCancel:i,onConfirm:r}=a.useContext(ce);return s?$.createElement(ut,{isSilent:n,actionFn:i,close:(...g)=>{d==null||d.apply(void 0,g),r==null||r(!1)},autoFocus:e==="cancel",buttonProps:t,prefixCls:`${c}-btn`},o):null},We=()=>{const{autoFocusButton:e,close:t,isSilent:o,okButtonProps:n,rootPrefixCls:s,okTextLocale:c,okType:d,onConfirm:i,onOk:r}=a.useContext(ce);return $.createElement(ut,{isSilent:o,type:d||"primary",actionFn:r,close:(...g)=>{t==null||t.apply(void 0,g),i==null||i(!0)},autoFocus:e==="ok",buttonProps:n,prefixCls:`${s}-btn`},c)};var ft=a.createContext({});function Ge(e,t,o){var n=t;return!n&&o&&(n="".concat(e,"-").concat(o)),n}function De(e,t){var o=e["page".concat(t?"Y":"X","Offset")],n="scroll".concat(t?"Top":"Left");if(typeof o!="number"){var s=e.document;o=s.documentElement[n],typeof o!="number"&&(o=s.body[n])}return o}function gn(e){var t=e.getBoundingClientRect(),o={left:t.left,top:t.top},n=e.ownerDocument,s=n.defaultView||n.parentWindow;return o.left+=De(s),o.top+=De(s,!0),o}const Cn=a.memo(function(e){var t=e.children;return t},function(e,t){var o=t.shouldUpdate;return!o});var pn={width:0,height:0,overflow:"hidden",outline:"none"},bn={outline:"none"},gt=$.forwardRef(function(e,t){var o=e.prefixCls,n=e.className,s=e.style,c=e.title,d=e.ariaId,i=e.footer,r=e.closable,g=e.closeIcon,l=e.onClose,f=e.children,u=e.bodyStyle,m=e.bodyProps,C=e.modalRender,v=e.onMouseDown,p=e.onMouseUp,h=e.holderRef,b=e.visible,y=e.forceRender,w=e.width,P=e.height,S=e.classNames,N=e.styles,q=$.useContext(ft),W=q.panel,B=Tt(h,W),T=a.useRef(),E=a.useRef();$.useImperativeHandle(t,function(){return{focus:function(){var k;(k=T.current)===null||k===void 0||k.focus({preventScroll:!0})},changeActive:function(k){var ee=document,Y=ee.activeElement;k&&Y===E.current?T.current.focus({preventScroll:!0}):!k&&Y===T.current&&E.current.focus({preventScroll:!0})}}});var G={};w!==void 0&&(G.width=w),P!==void 0&&(G.height=P);var z=i?$.createElement("div",{className:O("".concat(o,"-footer"),S==null?void 0:S.footer),style:R({},N==null?void 0:N.footer)},i):null,I=c?$.createElement("div",{className:O("".concat(o,"-header"),S==null?void 0:S.header),style:R({},N==null?void 0:N.header)},$.createElement("div",{className:"".concat(o,"-title"),id:d},c)):null,H=a.useMemo(function(){return _e(r)==="object"&&r!==null?r:r?{closeIcon:g??$.createElement("span",{className:"".concat(o,"-close-x")})}:{}},[r,g,o]),L=Te(H,!0),X=_e(r)==="object"&&r.disabled,J=r?$.createElement("button",D({type:"button",onClick:l,"aria-label":"Close"},L,{className:"".concat(o,"-close"),disabled:X}),H.closeIcon):null,K=$.createElement("div",{className:O("".concat(o,"-content"),S==null?void 0:S.content),style:N==null?void 0:N.content},J,I,$.createElement("div",D({className:O("".concat(o,"-body"),S==null?void 0:S.body),style:R(R({},u),N==null?void 0:N.body)},m),f),z);return $.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":c?d:null,"aria-modal":"true",ref:B,style:R(R({},s),G),className:O(o,n),onMouseDown:v,onMouseUp:p},$.createElement("div",{ref:T,tabIndex:0,style:bn},$.createElement(Cn,{shouldUpdate:b||y},C?C(K):K)),$.createElement("div",{tabIndex:0,ref:E,style:pn}))}),Ct=a.forwardRef(function(e,t){var o=e.prefixCls,n=e.title,s=e.style,c=e.className,d=e.visible,i=e.forceRender,r=e.destroyOnClose,g=e.motionName,l=e.ariaId,f=e.onVisibleChanged,u=e.mousePosition,m=a.useRef(),C=a.useState(),v=Ie(C,2),p=v[0],h=v[1],b={};p&&(b.transformOrigin=p);function y(){var w=gn(m.current);h(u&&(u.x||u.y)?"".concat(u.x-w.left,"px ").concat(u.y-w.top,"px"):"")}return a.createElement(ot,{visible:d,onVisibleChanged:f,onAppearPrepare:y,onEnterPrepare:y,forceRender:i,motionName:g,removeOnLeave:r,ref:m},function(w,P){var S=w.className,N=w.style;return a.createElement(gt,D({},e,{ref:t,title:n,ariaId:l,prefixCls:o,holderRef:P,style:R(R(R({},N),s),b),className:O(c,S)}))})});Ct.displayName="Content";var vn=function(t){var o=t.prefixCls,n=t.style,s=t.visible,c=t.maskProps,d=t.motionName,i=t.className;return a.createElement(ot,{key:"mask",visible:s,motionName:d,leavedClassName:"".concat(o,"-mask-hidden")},function(r,g){var l=r.className,f=r.style;return a.createElement("div",D({ref:g,style:R(R({},f),n),className:O("".concat(o,"-mask"),l,i)},c))})},hn=function(t){var o=t.prefixCls,n=o===void 0?"rc-dialog":o,s=t.zIndex,c=t.visible,d=c===void 0?!1:c,i=t.keyboard,r=i===void 0?!0:i,g=t.focusTriggerAfterClose,l=g===void 0?!0:g,f=t.wrapStyle,u=t.wrapClassName,m=t.wrapProps,C=t.onClose,v=t.afterOpenChange,p=t.afterClose,h=t.transitionName,b=t.animation,y=t.closable,w=y===void 0?!0:y,P=t.mask,S=P===void 0?!0:P,N=t.maskTransitionName,q=t.maskAnimation,W=t.maskClosable,B=W===void 0?!0:W,T=t.maskStyle,E=t.maskProps,G=t.rootClassName,z=t.classNames,I=t.styles,H=a.useRef(),L=a.useRef(),X=a.useRef(),J=a.useState(d),K=Ie(J,2),Q=K[0],k=K[1],ee=kt();function Y(){Le(L.current,document.activeElement)||(H.current=document.activeElement)}function ye(){if(!Le(L.current,document.activeElement)){var M;(M=X.current)===null||M===void 0||M.focus()}}function xe(M){if(M)ye();else{if(k(!1),S&&H.current&&l){try{H.current.focus({preventScroll:!0})}catch{}H.current=null}Q&&(p==null||p())}v==null||v(M)}function re(M){C==null||C(M)}var te=a.useRef(!1),ie=a.useRef(),$e=function(){clearTimeout(ie.current),te.current=!0},ne=function(){ie.current=setTimeout(function(){te.current=!1})},ue=null;B&&(ue=function(Se){te.current?te.current=!1:L.current===Se.target&&re(Se)});function A(M){if(r&&M.keyCode===Ve.ESC){M.stopPropagation(),re(M);return}d&&M.keyCode===Ve.TAB&&X.current.changeActive(!M.shiftKey)}a.useEffect(function(){d&&(k(!0),Y())},[d]),a.useEffect(function(){return function(){clearTimeout(ie.current)}},[]);var me=R(R(R({zIndex:s},f),I==null?void 0:I.wrapper),{},{display:Q?null:"none"});return a.createElement("div",D({className:O("".concat(n,"-root"),G)},Te(t,{data:!0})),a.createElement(vn,{prefixCls:n,visible:S&&d,motionName:Ge(n,N,q),style:R(R({zIndex:s},T),I==null?void 0:I.mask),maskProps:E,className:z==null?void 0:z.mask}),a.createElement("div",D({tabIndex:-1,onKeyDown:A,className:O("".concat(n,"-wrap"),u,z==null?void 0:z.wrapper),ref:L,onClick:ue,style:me},m),a.createElement(Ct,D({},t,{onMouseDown:$e,onMouseUp:ne,ref:X,closable:w,ariaId:ee,prefixCls:n,visible:d&&Q,onClose:re,onVisibleChanged:xe,motionName:Ge(n,h,b)}))))},pt=function(t){var o=t.visible,n=t.getContainer,s=t.forceRender,c=t.destroyOnClose,d=c===void 0?!1:c,i=t.afterClose,r=t.panelRef,g=a.useState(o),l=Ie(g,2),f=l[0],u=l[1],m=a.useMemo(function(){return{panel:r}},[r]);return a.useEffect(function(){o&&u(!0)},[o]),!s&&d&&!f?null:a.createElement(ft.Provider,{value:m},a.createElement(zt,{open:o||s||f,autoDestroy:!1,getContainer:n,autoLock:o||f},a.createElement(hn,D({},t,{destroyOnClose:d,afterClose:function(){i==null||i(),u(!1)}}))))};pt.displayName="Dialog";function Ue(...e){const t={};return e.forEach(o=>{o&&Object.keys(o).forEach(n=>{o[n]!==void 0&&(t[n]=o[n])})}),t}function Xe(e){if(e)return{closable:e.closable,closeIcon:e.closeIcon}}function Ke(e){const{closable:t,closeIcon:o}=e||{};return $.useMemo(()=>{if(!t&&(t===!1||o===!1||o===null))return!1;if(t===void 0&&o===void 0)return null;let n={closeIcon:typeof o!="boolean"&&o!==null?o:void 0};return t&&typeof t=="object"&&(n=Object.assign(Object.assign({},n),t)),n},[t,o])}const yn={};function xn(e,t,o=yn){const n=Ke(e),s=Ke(t),[c]=be("global",st.global),d=typeof n!="boolean"?!!(n!=null&&n.disabled):!1,i=$.useMemo(()=>Object.assign({closeIcon:$.createElement(ke,null)},o),[o]),r=$.useMemo(()=>n===!1?!1:n?Ue(i,s,n):s===!1?!1:s?Ue(i,s):i.closable?i:!1,[n,s,i]);return $.useMemo(()=>{var g,l;if(r===!1)return[!1,null,d,{}];const{closeIconRender:f}=i,{closeIcon:u}=r;let m=u;const C=Te(r,!0);return m!=null&&(f&&(m=f(u)),m=$.isValidElement(m)?$.cloneElement(m,Object.assign(Object.assign(Object.assign({},m.props),{"aria-label":(l=(g=m.props)===null||g===void 0?void 0:g["aria-label"])!==null&&l!==void 0?l:c.close}),C)):$.createElement("span",Object.assign({"aria-label":c.close},C),m)),[!0,m,d,C]},[r,i])}const $n=()=>Ht()&&window.document.documentElement,ve=e=>{const{prefixCls:t,className:o,style:n,size:s,shape:c}=e,d=O({[`${t}-lg`]:s==="large",[`${t}-sm`]:s==="small"}),i=O({[`${t}-circle`]:c==="circle",[`${t}-square`]:c==="square",[`${t}-round`]:c==="round"}),r=a.useMemo(()=>typeof s=="number"?{width:s,height:s,lineHeight:`${s}px`}:{},[s]);return a.createElement("span",{className:O(t,d,i,o),style:Object.assign(Object.assign({},r),n)})},Sn=new Ne("ant-skeleton-loading",{"0%":{backgroundPosition:"100% 50%"},"100%":{backgroundPosition:"0 50%"}}),he=e=>({height:e,lineHeight:j(e)}),oe=e=>Object.assign({width:e},he(e)),On=e=>({background:e.skeletonLoadingBackground,backgroundSize:"400% 100%",animationName:Sn,animationDuration:e.skeletonLoadingMotionDuration,animationTimingFunction:"ease",animationIterationCount:"infinite"}),we=(e,t)=>Object.assign({width:t(e).mul(5).equal(),minWidth:t(e).mul(5).equal()},he(e)),wn=e=>{const{skeletonAvatarCls:t,gradientFromColor:o,controlHeight:n,controlHeightLG:s,controlHeightSM:c}=e;return{[t]:Object.assign({display:"inline-block",verticalAlign:"top",background:o},oe(n)),[`${t}${t}-circle`]:{borderRadius:"50%"},[`${t}${t}-lg`]:Object.assign({},oe(s)),[`${t}${t}-sm`]:Object.assign({},oe(c))}},En=e=>{const{controlHeight:t,borderRadiusSM:o,skeletonInputCls:n,controlHeightLG:s,controlHeightSM:c,gradientFromColor:d,calc:i}=e;return{[n]:Object.assign({display:"inline-block",verticalAlign:"top",background:d,borderRadius:o},we(t,i)),[`${n}-lg`]:Object.assign({},we(s,i)),[`${n}-sm`]:Object.assign({},we(c,i))}},Qe=e=>Object.assign({width:e},he(e)),jn=e=>{const{skeletonImageCls:t,imageSizeBase:o,gradientFromColor:n,borderRadiusSM:s,calc:c}=e;return{[t]:Object.assign(Object.assign({display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"middle",background:n,borderRadius:s},Qe(c(o).mul(2).equal())),{[`${t}-path`]:{fill:"#bfbfbf"},[`${t}-svg`]:Object.assign(Object.assign({},Qe(o)),{maxWidth:c(o).mul(4).equal(),maxHeight:c(o).mul(4).equal()}),[`${t}-svg${t}-svg-circle`]:{borderRadius:"50%"}}),[`${t}${t}-circle`]:{borderRadius:"50%"}}},Ee=(e,t,o)=>{const{skeletonButtonCls:n}=e;return{[`${o}${n}-circle`]:{width:t,minWidth:t,borderRadius:"50%"},[`${o}${n}-round`]:{borderRadius:t}}},je=(e,t)=>Object.assign({width:t(e).mul(2).equal(),minWidth:t(e).mul(2).equal()},he(e)),Pn=e=>{const{borderRadiusSM:t,skeletonButtonCls:o,controlHeight:n,controlHeightLG:s,controlHeightSM:c,gradientFromColor:d,calc:i}=e;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({[o]:Object.assign({display:"inline-block",verticalAlign:"top",background:d,borderRadius:t,width:i(n).mul(2).equal(),minWidth:i(n).mul(2).equal()},je(n,i))},Ee(e,n,o)),{[`${o}-lg`]:Object.assign({},je(s,i))}),Ee(e,s,`${o}-lg`)),{[`${o}-sm`]:Object.assign({},je(c,i))}),Ee(e,c,`${o}-sm`))},Mn=e=>{const{componentCls:t,skeletonAvatarCls:o,skeletonTitleCls:n,skeletonParagraphCls:s,skeletonButtonCls:c,skeletonInputCls:d,skeletonImageCls:i,controlHeight:r,controlHeightLG:g,controlHeightSM:l,gradientFromColor:f,padding:u,marginSM:m,borderRadius:C,titleHeight:v,blockRadius:p,paragraphLiHeight:h,controlHeightXS:b,paragraphMarginTop:y}=e;return{[t]:{display:"table",width:"100%",[`${t}-header`]:{display:"table-cell",paddingInlineEnd:u,verticalAlign:"top",[o]:Object.assign({display:"inline-block",verticalAlign:"top",background:f},oe(r)),[`${o}-circle`]:{borderRadius:"50%"},[`${o}-lg`]:Object.assign({},oe(g)),[`${o}-sm`]:Object.assign({},oe(l))},[`${t}-content`]:{display:"table-cell",width:"100%",verticalAlign:"top",[n]:{width:"100%",height:v,background:f,borderRadius:p,[`+ ${s}`]:{marginBlockStart:l}},[s]:{padding:0,"> li":{width:"100%",height:h,listStyle:"none",background:f,borderRadius:p,"+ li":{marginBlockStart:b}}},[`${s}> li:last-child:not(:first-child):not(:nth-child(2))`]:{width:"61%"}},[`&-round ${t}-content`]:{[`${n}, ${s} > li`]:{borderRadius:C}}},[`${t}-with-avatar ${t}-content`]:{[n]:{marginBlockStart:m,[`+ ${s}`]:{marginBlockStart:y}}},[`${t}${t}-element`]:Object.assign(Object.assign(Object.assign(Object.assign({display:"inline-block",width:"auto"},Pn(e)),wn(e)),En(e)),jn(e)),[`${t}${t}-block`]:{width:"100%",[c]:{width:"100%"},[d]:{width:"100%"}},[`${t}${t}-active`]:{[`
        ${n},
        ${s} > li,
        ${o},
        ${c},
        ${d},
        ${i}
      `]:Object.assign({},On(e))}}},Nn=e=>{const{colorFillContent:t,colorFill:o}=e,n=t,s=o;return{color:n,colorGradientEnd:s,gradientFromColor:n,gradientToColor:s,titleHeight:e.controlHeight/2,blockRadius:e.borderRadiusSM,paragraphMarginTop:e.marginLG+e.marginXXS,paragraphLiHeight:e.controlHeight/2}},ae=at("Skeleton",e=>{const{componentCls:t,calc:o}=e,n=lt(e,{skeletonAvatarCls:`${t}-avatar`,skeletonTitleCls:`${t}-title`,skeletonParagraphCls:`${t}-paragraph`,skeletonButtonCls:`${t}-button`,skeletonInputCls:`${t}-input`,skeletonImageCls:`${t}-image`,imageSizeBase:o(e.controlHeight).mul(1.5).equal(),borderRadius:100,skeletonLoadingBackground:`linear-gradient(90deg, ${e.gradientFromColor} 25%, ${e.gradientToColor} 37%, ${e.gradientFromColor} 63%)`,skeletonLoadingMotionDuration:"1.4s"});return[Mn(n)]},Nn,{deprecatedTokens:[["color","gradientFromColor"],["colorGradientEnd","gradientToColor"]]}),In=e=>{const{prefixCls:t,className:o,rootClassName:n,active:s,shape:c="circle",size:d="default"}=e,{getPrefixCls:i}=a.useContext(V),r=i("skeleton",t),[g,l,f]=ae(r),u=Re(e,["prefixCls","className"]),m=O(r,`${r}-element`,{[`${r}-active`]:s},o,n,l,f);return g(a.createElement("div",{className:m},a.createElement(ve,Object.assign({prefixCls:`${r}-avatar`,shape:c,size:d},u))))},Rn=e=>{const{prefixCls:t,className:o,rootClassName:n,active:s,block:c=!1,size:d="default"}=e,{getPrefixCls:i}=a.useContext(V),r=i("skeleton",t),[g,l,f]=ae(r),u=Re(e,["prefixCls"]),m=O(r,`${r}-element`,{[`${r}-active`]:s,[`${r}-block`]:c},o,n,l,f);return g(a.createElement("div",{className:m},a.createElement(ve,Object.assign({prefixCls:`${r}-button`,size:d},u))))},Fn="M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",Bn=e=>{const{prefixCls:t,className:o,rootClassName:n,style:s,active:c}=e,{getPrefixCls:d}=a.useContext(V),i=d("skeleton",t),[r,g,l]=ae(i),f=O(i,`${i}-element`,{[`${i}-active`]:c},o,n,g,l);return r(a.createElement("div",{className:f},a.createElement("div",{className:O(`${i}-image`,o),style:s},a.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:`${i}-image-svg`},a.createElement("title",null,"Image placeholder"),a.createElement("path",{d:Fn,className:`${i}-image-path`})))))},Tn=e=>{const{prefixCls:t,className:o,rootClassName:n,active:s,block:c,size:d="default"}=e,{getPrefixCls:i}=a.useContext(V),r=i("skeleton",t),[g,l,f]=ae(r),u=Re(e,["prefixCls"]),m=O(r,`${r}-element`,{[`${r}-active`]:s,[`${r}-block`]:c},o,n,l,f);return g(a.createElement("div",{className:m},a.createElement(ve,Object.assign({prefixCls:`${r}-input`,size:d},u))))},kn=e=>{const{prefixCls:t,className:o,rootClassName:n,style:s,active:c,children:d}=e,{getPrefixCls:i}=a.useContext(V),r=i("skeleton",t),[g,l,f]=ae(r),u=O(r,`${r}-element`,{[`${r}-active`]:c},l,o,n,f);return g(a.createElement("div",{className:u},a.createElement("div",{className:O(`${r}-image`,o),style:s},d)))},zn=(e,t)=>{const{width:o,rows:n=2}=t;if(Array.isArray(o))return o[e];if(n-1===e)return o},Hn=e=>{const{prefixCls:t,className:o,style:n,rows:s=0}=e,c=Array.from({length:s}).map((d,i)=>a.createElement("li",{key:i,style:{width:zn(i,e)}}));return a.createElement("ul",{className:O(t,o),style:n},c)},An=({prefixCls:e,className:t,width:o,style:n})=>a.createElement("h3",{className:O(e,t),style:Object.assign({width:o},n)});function Pe(e){return e&&typeof e=="object"?e:{}}function _n(e,t){return e&&!t?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}function Ln(e,t){return!e&&t?{width:"38%"}:e&&t?{width:"50%"}:{}}function Vn(e,t){const o={};return(!e||!t)&&(o.width="61%"),!e&&t?o.rows=3:o.rows=2,o}const le=e=>{const{prefixCls:t,loading:o,className:n,rootClassName:s,style:c,children:d,avatar:i=!1,title:r=!0,paragraph:g=!0,active:l,round:f}=e,{getPrefixCls:u,direction:m,className:C,style:v}=At("skeleton"),p=u("skeleton",t),[h,b,y]=ae(p);if(o||!("loading"in e)){const w=!!i,P=!!r,S=!!g;let N;if(w){const B=Object.assign(Object.assign({prefixCls:`${p}-avatar`},_n(P,S)),Pe(i));N=a.createElement("div",{className:`${p}-header`},a.createElement(ve,Object.assign({},B)))}let q;if(P||S){let B;if(P){const E=Object.assign(Object.assign({prefixCls:`${p}-title`},Ln(w,S)),Pe(r));B=a.createElement(An,Object.assign({},E))}let T;if(S){const E=Object.assign(Object.assign({prefixCls:`${p}-paragraph`},Vn(w,P)),Pe(g));T=a.createElement(Hn,Object.assign({},E))}q=a.createElement("div",{className:`${p}-content`},B,T)}const W=O(p,{[`${p}-with-avatar`]:w,[`${p}-active`]:l,[`${p}-rtl`]:m==="rtl",[`${p}-round`]:f},C,n,s,b,y);return h(a.createElement("div",{className:W,style:Object.assign(Object.assign({},v),c)},N,q))}return d??null};le.Button=Rn;le.Avatar=In;le.Input=Tn;le.Image=Bn;le.Node=kn;function Ye(){}const qn=a.createContext({add:Ye,remove:Ye});function Wn(e){const t=a.useContext(qn),o=a.useRef(null);return _t(s=>{if(s){const c=e?s.querySelector(e):s;t.add(c),o.current=c}else t.remove(o.current)})}const Ze=()=>{const{cancelButtonProps:e,cancelTextLocale:t,onCancel:o}=a.useContext(ce);return $.createElement(Be,Object.assign({onClick:o},e),t)},Je=()=>{const{confirmLoading:e,okButtonProps:t,okType:o,okTextLocale:n,onOk:s}=a.useContext(ce);return $.createElement(Be,Object.assign({},dt(o),{loading:e,onClick:s},t),n)};function bt(e,t){return $.createElement("span",{className:`${e}-close-x`},t||$.createElement(ke,{className:`${e}-close-icon`}))}const vt=e=>{const{okText:t,okType:o="primary",cancelText:n,confirmLoading:s,onOk:c,onCancel:d,okButtonProps:i,cancelButtonProps:r,footer:g}=e,[l]=be("Modal",rt()),f=t||(l==null?void 0:l.okText),u=n||(l==null?void 0:l.cancelText),m={confirmLoading:s,okButtonProps:i,cancelButtonProps:r,okTextLocale:f,cancelTextLocale:u,okType:o,onOk:c,onCancel:d},C=$.useMemo(()=>m,_(Object.values(m)));let v;return typeof g=="function"||typeof g>"u"?(v=$.createElement($.Fragment,null,$.createElement(Ze,null),$.createElement(Je,null)),typeof g=="function"&&(v=g(v,{OkBtn:Je,CancelBtn:Ze})),v=$.createElement(mt,{value:C},v)):v=g,$.createElement(Lt,{disabled:!1},v)};function et(e){return{position:e,inset:0}}const Gn=e=>{const{componentCls:t,antCls:o}=e;return[{[`${t}-root`]:{[`${t}${o}-zoom-enter, ${t}${o}-zoom-appear`]:{transform:"none",opacity:0,animationDuration:e.motionDurationSlow,userSelect:"none"},[`${t}${o}-zoom-leave ${t}-content`]:{pointerEvents:"none"},[`${t}-mask`]:Object.assign(Object.assign({},et("fixed")),{zIndex:e.zIndexPopupBase,height:"100%",backgroundColor:e.colorBgMask,pointerEvents:"none",[`${t}-hidden`]:{display:"none"}}),[`${t}-wrap`]:Object.assign(Object.assign({},et("fixed")),{zIndex:e.zIndexPopupBase,overflow:"auto",outline:0,WebkitOverflowScrolling:"touch"})}},{[`${t}-root`]:fn(e)}]},Dn=e=>{const{componentCls:t}=e;return[{[`${t}-root`]:{[`${t}-wrap-rtl`]:{direction:"rtl"},[`${t}-centered`]:{textAlign:"center","&::before":{display:"inline-block",width:0,height:"100%",verticalAlign:"middle",content:'""'},[t]:{top:0,display:"inline-block",paddingBottom:0,textAlign:"start",verticalAlign:"middle"}},[`@media (max-width: ${e.screenSMMax}px)`]:{[t]:{maxWidth:"calc(100vw - 16px)",margin:`${j(e.marginXS)} auto`},[`${t}-centered`]:{[t]:{flex:1}}}}},{[t]:Object.assign(Object.assign({},qt(e)),{pointerEvents:"none",position:"relative",top:100,width:"auto",maxWidth:`calc(100vw - ${j(e.calc(e.margin).mul(2).equal())})`,margin:"0 auto",paddingBottom:e.paddingLG,[`${t}-title`]:{margin:0,color:e.titleColor,fontWeight:e.fontWeightStrong,fontSize:e.titleFontSize,lineHeight:e.titleLineHeight,wordWrap:"break-word"},[`${t}-content`]:{position:"relative",backgroundColor:e.contentBg,backgroundClip:"padding-box",border:0,borderRadius:e.borderRadiusLG,boxShadow:e.boxShadow,pointerEvents:"auto",padding:e.contentPadding},[`${t}-close`]:Object.assign({position:"absolute",top:e.calc(e.modalHeaderHeight).sub(e.modalCloseBtnSize).div(2).equal(),insetInlineEnd:e.calc(e.modalHeaderHeight).sub(e.modalCloseBtnSize).div(2).equal(),zIndex:e.calc(e.zIndexPopupBase).add(10).equal(),padding:0,color:e.modalCloseIconColor,fontWeight:e.fontWeightStrong,lineHeight:1,textDecoration:"none",background:"transparent",borderRadius:e.borderRadiusSM,width:e.modalCloseBtnSize,height:e.modalCloseBtnSize,border:0,outline:0,cursor:"pointer",transition:`color ${e.motionDurationMid}, background-color ${e.motionDurationMid}`,"&-x":{display:"flex",fontSize:e.fontSizeLG,fontStyle:"normal",lineHeight:j(e.modalCloseBtnSize),justifyContent:"center",textTransform:"none",textRendering:"auto"},"&:disabled":{pointerEvents:"none"},"&:hover":{color:e.modalCloseIconHoverColor,backgroundColor:e.colorBgTextHover,textDecoration:"none"},"&:active":{backgroundColor:e.colorBgTextActive}},Wt(e)),[`${t}-header`]:{color:e.colorText,background:e.headerBg,borderRadius:`${j(e.borderRadiusLG)} ${j(e.borderRadiusLG)} 0 0`,marginBottom:e.headerMarginBottom,padding:e.headerPadding,borderBottom:e.headerBorderBottom},[`${t}-body`]:{fontSize:e.fontSize,lineHeight:e.lineHeight,wordWrap:"break-word",padding:e.bodyPadding,[`${t}-body-skeleton`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",margin:`${j(e.margin)} auto`}},[`${t}-footer`]:{textAlign:"end",background:e.footerBg,marginTop:e.footerMarginTop,padding:e.footerPadding,borderTop:e.footerBorderTop,borderRadius:e.footerBorderRadius,[`> ${e.antCls}-btn + ${e.antCls}-btn`]:{marginInlineStart:e.marginXS}},[`${t}-open`]:{overflow:"hidden"}})},{[`${t}-pure-panel`]:{top:"auto",padding:0,display:"flex",flexDirection:"column",[`${t}-content,
          ${t}-body,
          ${t}-confirm-body-wrapper`]:{display:"flex",flexDirection:"column",flex:"auto"},[`${t}-confirm-body`]:{marginBottom:"auto"}}}]},Un=e=>{const{componentCls:t}=e;return{[`${t}-root`]:{[`${t}-wrap-rtl`]:{direction:"rtl",[`${t}-confirm-body`]:{direction:"rtl"}}}}},Xn=e=>{const{componentCls:t}=e,o=Gt(e),n=Object.assign({},o);delete n.xs;const s=`--${t.replace(".","")}-`,c=Object.keys(n).map(d=>({[`@media (min-width: ${j(n[d])})`]:{width:`var(${s}${d}-width)`}}));return{[`${t}-root`]:{[t]:[].concat(_(Object.keys(o).map((d,i)=>{const r=Object.keys(o)[i-1];return r?{[`${s}${d}-width`]:`var(${s}${r}-width)`}:null})),[{width:`var(${s}xs-width)`}],_(c))}}},ht=e=>{const t=e.padding,o=e.fontSizeHeading5,n=e.lineHeightHeading5;return lt(e,{modalHeaderHeight:e.calc(e.calc(n).mul(o).equal()).add(e.calc(t).mul(2).equal()).equal(),modalFooterBorderColorSplit:e.colorSplit,modalFooterBorderStyle:e.lineType,modalFooterBorderWidth:e.lineWidth,modalCloseIconColor:e.colorIcon,modalCloseIconHoverColor:e.colorIconHover,modalCloseBtnSize:e.controlHeight,modalConfirmIconSize:e.fontHeight,modalTitleHeight:e.calc(e.titleFontSize).mul(e.titleLineHeight).equal()})},yt=e=>({footerBg:"transparent",headerBg:e.colorBgElevated,titleLineHeight:e.lineHeightHeading5,titleFontSize:e.fontSizeHeading5,contentBg:e.colorBgElevated,titleColor:e.colorTextHeading,contentPadding:e.wireframe?0:`${j(e.paddingMD)} ${j(e.paddingContentHorizontalLG)}`,headerPadding:e.wireframe?`${j(e.padding)} ${j(e.paddingLG)}`:0,headerBorderBottom:e.wireframe?`${j(e.lineWidth)} ${e.lineType} ${e.colorSplit}`:"none",headerMarginBottom:e.wireframe?0:e.marginXS,bodyPadding:e.wireframe?e.paddingLG:0,footerPadding:e.wireframe?`${j(e.paddingXS)} ${j(e.padding)}`:0,footerBorderTop:e.wireframe?`${j(e.lineWidth)} ${e.lineType} ${e.colorSplit}`:"none",footerBorderRadius:e.wireframe?`0 0 ${j(e.borderRadiusLG)} ${j(e.borderRadiusLG)}`:0,footerMarginTop:e.wireframe?0:e.marginSM,confirmBodyPadding:e.wireframe?`${j(e.padding*2)} ${j(e.padding*2)} ${j(e.paddingLG)}`:0,confirmIconMarginInlineEnd:e.wireframe?e.margin:e.marginSM,confirmBtnsMarginTop:e.wireframe?e.marginLG:e.marginSM}),xt=at("Modal",e=>{const t=ht(e);return[Dn(t),Un(t),Gn(t),Vt(t,"zoom"),Xn(t)]},yt,{unitless:{titleLineHeight:!0}});var Kn=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(o[n[s]]=e[n[s]]);return o};let Me;const Qn=e=>{Me={x:e.pageX,y:e.pageY},setTimeout(()=>{Me=null},100)};$n()&&document.documentElement.addEventListener("click",Qn,!0);const $t=e=>{const{prefixCls:t,className:o,rootClassName:n,open:s,wrapClassName:c,centered:d,getContainer:i,focusTriggerAfterClose:r=!0,style:g,visible:l,width:f=520,footer:u,classNames:m,styles:C,children:v,loading:p,confirmLoading:h,zIndex:b,mousePosition:y,onOk:w,onCancel:P,destroyOnHidden:S,destroyOnClose:N}=e,q=Kn(e,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","focusTriggerAfterClose","style","visible","width","footer","classNames","styles","children","loading","confirmLoading","zIndex","mousePosition","onOk","onCancel","destroyOnHidden","destroyOnClose"]),{getPopupContainer:W,getPrefixCls:B,direction:T,modal:E}=a.useContext(V),G=A=>{h||P==null||P(A)},z=A=>{w==null||w(A)},I=B("modal",t),H=B(),L=it(I),[X,J,K]=xt(I,L),Q=O(c,{[`${I}-centered`]:d??(E==null?void 0:E.centered),[`${I}-wrap-rtl`]:T==="rtl"}),k=u!==null&&!p?a.createElement(vt,Object.assign({},e,{onOk:z,onCancel:G})):null,[ee,Y,ye,xe]=xn(Xe(e),Xe(E),{closable:!0,closeIcon:a.createElement(ke,{className:`${I}-close-icon`}),closeIconRender:A=>bt(I,A)}),re=Wn(`.${I}-content`),[te,ie]=Dt("Modal",b),[$e,ne]=a.useMemo(()=>f&&typeof f=="object"?[void 0,f]:[f,void 0],[f]),ue=a.useMemo(()=>{const A={};return ne&&Object.keys(ne).forEach(me=>{const M=ne[me];M!==void 0&&(A[`--${I}-${me}-width`]=typeof M=="number"?`${M}px`:M)}),A},[ne]);return X(a.createElement(Ut,{form:!0,space:!0},a.createElement(Xt.Provider,{value:ie},a.createElement(pt,Object.assign({width:$e},q,{zIndex:te,getContainer:i===void 0?W:i,prefixCls:I,rootClassName:O(J,n,K,L),footer:k,visible:s??l,mousePosition:y??Me,onClose:G,closable:ee&&Object.assign({disabled:ye,closeIcon:Y},xe),closeIcon:Y,focusTriggerAfterClose:r,transitionName:fe(H,"zoom",e.transitionName),maskTransitionName:fe(H,"fade",e.maskTransitionName),className:O(J,o,E==null?void 0:E.className),style:Object.assign(Object.assign(Object.assign({},E==null?void 0:E.style),g),ue),classNames:Object.assign(Object.assign(Object.assign({},E==null?void 0:E.classNames),m),{wrapper:O(Q,m==null?void 0:m.wrapper)}),styles:Object.assign(Object.assign({},E==null?void 0:E.styles),C),panelRef:re,destroyOnClose:S??N}),p?a.createElement(le,{active:!0,title:!1,paragraph:{rows:4},className:`${I}-body-skeleton`}):v))))},Yn=e=>{const{componentCls:t,titleFontSize:o,titleLineHeight:n,modalConfirmIconSize:s,fontSize:c,lineHeight:d,modalTitleHeight:i,fontHeight:r,confirmBodyPadding:g}=e,l=`${t}-confirm`;return{[l]:{"&-rtl":{direction:"rtl"},[`${e.antCls}-modal-header`]:{display:"none"},[`${l}-body-wrapper`]:Object.assign({},Qt()),[`&${t} ${t}-body`]:{padding:g},[`${l}-body`]:{display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${e.iconCls}`]:{flex:"none",fontSize:s,marginInlineEnd:e.confirmIconMarginInlineEnd,marginTop:e.calc(e.calc(r).sub(s).equal()).div(2).equal()},[`&-has-title > ${e.iconCls}`]:{marginTop:e.calc(e.calc(i).sub(s).equal()).div(2).equal()}},[`${l}-paragraph`]:{display:"flex",flexDirection:"column",flex:"auto",rowGap:e.marginXS,maxWidth:`calc(100% - ${j(e.marginSM)})`},[`${e.iconCls} + ${l}-paragraph`]:{maxWidth:`calc(100% - ${j(e.calc(e.modalConfirmIconSize).add(e.marginSM).equal())})`},[`${l}-title`]:{color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:o,lineHeight:n},[`${l}-content`]:{color:e.colorText,fontSize:c,lineHeight:d},[`${l}-btns`]:{textAlign:"end",marginTop:e.confirmBtnsMarginTop,[`${e.antCls}-btn + ${e.antCls}-btn`]:{marginBottom:0,marginInlineStart:e.marginXS}}},[`${l}-error ${l}-body > ${e.iconCls}`]:{color:e.colorError},[`${l}-warning ${l}-body > ${e.iconCls},
        ${l}-confirm ${l}-body > ${e.iconCls}`]:{color:e.colorWarning},[`${l}-info ${l}-body > ${e.iconCls}`]:{color:e.colorInfo},[`${l}-success ${l}-body > ${e.iconCls}`]:{color:e.colorSuccess}}},Zn=Kt(["Modal","confirm"],e=>{const t=ht(e);return[Yn(t)]},yt,{order:-1e3});var Jn=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(o[n[s]]=e[n[s]]);return o};function St(e){const{prefixCls:t,icon:o,okText:n,cancelText:s,confirmPrefixCls:c,type:d,okCancel:i,footer:r,locale:g}=e,l=Jn(e,["prefixCls","icon","okText","cancelText","confirmPrefixCls","type","okCancel","footer","locale"]);let f=o;if(!o&&o!==null)switch(d){case"info":f=a.createElement(an,null);break;case"success":f=a.createElement(sn,null);break;case"error":f=a.createElement(Jt,null);break;default:f=a.createElement(on,null)}const u=i??d==="confirm",m=e.autoFocusButton===null?!1:e.autoFocusButton||"ok",[C]=be("Modal"),v=g||C,p=n||(u?v==null?void 0:v.okText:v==null?void 0:v.justOkText),h=s||(v==null?void 0:v.cancelText),b=Object.assign({autoFocusButton:m,cancelTextLocale:h,okTextLocale:p,mergedOkCancel:u},l),y=a.useMemo(()=>b,_(Object.values(b))),w=a.createElement(a.Fragment,null,a.createElement(qe,null),a.createElement(We,null)),P=e.title!==void 0&&e.title!==null,S=`${c}-body`;return a.createElement("div",{className:`${c}-body-wrapper`},a.createElement("div",{className:O(S,{[`${S}-has-title`]:P})},f,a.createElement("div",{className:`${c}-paragraph`},P&&a.createElement("span",{className:`${c}-title`},e.title),a.createElement("div",{className:`${c}-content`},e.content))),r===void 0||typeof r=="function"?a.createElement(mt,{value:y},a.createElement("div",{className:`${c}-btns`},typeof r=="function"?r(w,{OkBtn:We,CancelBtn:qe}):w)):r,a.createElement(Zn,{prefixCls:t}))}const eo=e=>{const{close:t,zIndex:o,maskStyle:n,direction:s,prefixCls:c,wrapClassName:d,rootPrefixCls:i,bodyStyle:r,closable:g=!1,onConfirm:l,styles:f}=e,u=`${c}-confirm`,m=e.width||416,C=e.style||{},v=e.mask===void 0?!0:e.mask,p=e.maskClosable===void 0?!1:e.maskClosable,h=O(u,`${u}-${e.type}`,{[`${u}-rtl`]:s==="rtl"},e.className),[,b]=Yt(),y=a.useMemo(()=>o!==void 0?o:b.zIndexPopupBase+Zt,[o,b]);return a.createElement($t,Object.assign({},e,{className:h,wrapClassName:O({[`${u}-centered`]:!!e.centered},d),onCancel:()=>{t==null||t({triggerCancel:!0}),l==null||l(!1)},title:"",footer:null,transitionName:fe(i||"","zoom",e.transitionName),maskTransitionName:fe(i||"","fade",e.maskTransitionName),mask:v,maskClosable:p,style:C,styles:Object.assign({body:r,mask:n},f),width:m,zIndex:y,closable:g}),a.createElement(St,Object.assign({},e,{confirmPrefixCls:u})))},Ot=e=>{const{rootPrefixCls:t,iconPrefixCls:o,direction:n,theme:s}=e;return a.createElement(ct,{prefixCls:t,iconPrefixCls:o,direction:n,theme:s},a.createElement(eo,Object.assign({},e)))},Z=[];let wt="";function Et(){return wt}const to=e=>{var t,o;const{prefixCls:n,getContainer:s,direction:c}=e,d=rt(),i=a.useContext(V),r=Et()||i.getPrefixCls(),g=n||`${r}-modal`;let l=s;return l===!1&&(l=void 0),$.createElement(Ot,Object.assign({},e,{rootPrefixCls:r,prefixCls:g,iconPrefixCls:i.iconPrefixCls,theme:i.theme,direction:c??i.direction,locale:(o=(t=i.locale)===null||t===void 0?void 0:t.Modal)!==null&&o!==void 0?o:d,getContainer:l}))};function de(e){const t=en(),o=document.createDocumentFragment();let n=Object.assign(Object.assign({},e),{close:r,open:!0}),s,c;function d(...l){var f;if(l.some(C=>C==null?void 0:C.triggerCancel)){var m;(f=e.onCancel)===null||f===void 0||(m=f).call.apply(m,[e,()=>{}].concat(_(l.slice(1))))}for(let C=0;C<Z.length;C++)if(Z[C]===r){Z.splice(C,1);break}c()}function i(l){clearTimeout(s),s=setTimeout(()=>{const f=t.getPrefixCls(void 0,Et()),u=t.getIconPrefixCls(),m=t.getTheme(),C=$.createElement(to,Object.assign({},l));c=ln()($.createElement(ct,{prefixCls:f,iconPrefixCls:u,theme:m},t.holderRender?t.holderRender(C):C),o)})}function r(...l){n=Object.assign(Object.assign({},n),{open:!1,afterClose:()=>{typeof e.afterClose=="function"&&e.afterClose(),d.apply(this,l)}}),n.visible&&delete n.visible,i(n)}function g(l){typeof l=="function"?n=l(n):n=Object.assign(Object.assign({},n),l),i(n)}return i(n),Z.push(r),{destroy:r,update:g}}function jt(e){return Object.assign(Object.assign({},e),{type:"warning"})}function Pt(e){return Object.assign(Object.assign({},e),{type:"info"})}function Mt(e){return Object.assign(Object.assign({},e),{type:"success"})}function Nt(e){return Object.assign(Object.assign({},e),{type:"error"})}function It(e){return Object.assign(Object.assign({},e),{type:"confirm"})}function no({rootPrefixCls:e}){wt=e}var oo=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(o[n[s]]=e[n[s]]);return o};const so=(e,t)=>{var o,{afterClose:n,config:s}=e,c=oo(e,["afterClose","config"]);const[d,i]=a.useState(!0),[r,g]=a.useState(s),{direction:l,getPrefixCls:f}=a.useContext(V),u=f("modal"),m=f(),C=()=>{var b;n(),(b=r.afterClose)===null||b===void 0||b.call(r)},v=(...b)=>{var y;if(i(!1),b.some(S=>S==null?void 0:S.triggerCancel)){var P;(y=r.onCancel)===null||y===void 0||(P=y).call.apply(P,[r,()=>{}].concat(_(b.slice(1))))}};a.useImperativeHandle(t,()=>({destroy:v,update:b=>{g(y=>{const w=typeof b=="function"?b(y):b;return Object.assign(Object.assign({},y),w)})}}));const p=(o=r.okCancel)!==null&&o!==void 0?o:r.type==="confirm",[h]=be("Modal",st.Modal);return a.createElement(Ot,Object.assign({prefixCls:u,rootPrefixCls:m},r,{close:v,open:d,afterClose:C,okText:r.okText||(p?h==null?void 0:h.okText:h==null?void 0:h.justOkText),direction:r.direction||l,cancelText:r.cancelText||(h==null?void 0:h.cancelText)},c))},ao=a.forwardRef(so);let tt=0;const lo=a.memo(a.forwardRef((e,t)=>{const[o,n]=dn();return a.useImperativeHandle(t,()=>({patchElement:n}),[]),a.createElement(a.Fragment,null,o)}));function ro(){const e=a.useRef(null),[t,o]=a.useState([]);a.useEffect(()=>{t.length&&(_(t).forEach(d=>{d()}),o([]))},[t]);const n=a.useCallback(c=>function(i){var r;tt+=1;const g=a.createRef();let l;const f=new Promise(p=>{l=p});let u=!1,m;const C=a.createElement(ao,{key:`modal-${tt}`,config:c(i),ref:g,afterClose:()=>{m==null||m()},isSilent:()=>u,onConfirm:p=>{l(p)}});return m=(r=e.current)===null||r===void 0?void 0:r.patchElement(C),m&&Z.push(m),{destroy:()=>{function p(){var h;(h=g.current)===null||h===void 0||h.destroy()}g.current?p():o(h=>[].concat(_(h),[p]))},update:p=>{function h(){var b;(b=g.current)===null||b===void 0||b.update(p)}g.current?h():o(b=>[].concat(_(b),[h]))},then:p=>(u=!0,f.then(p))}},[]);return[a.useMemo(()=>({info:n(Pt),success:n(Mt),error:n(Nt),warning:n(jt),confirm:n(It)}),[]),a.createElement(lo,{key:"modal-holder",ref:e})]}var io=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(o[n[s]]=e[n[s]]);return o};const co=e=>{const{prefixCls:t,className:o,closeIcon:n,closable:s,type:c,title:d,children:i,footer:r}=e,g=io(e,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:l}=a.useContext(V),f=l(),u=t||l("modal"),m=it(f),[C,v,p]=xt(u,m),h=`${u}-confirm`;let b={};return c?b={closable:s??!1,title:"",footer:"",children:a.createElement(St,Object.assign({},e,{prefixCls:u,confirmPrefixCls:h,rootPrefixCls:f,content:i}))}:b={closable:s??!0,title:d,footer:r!==null&&a.createElement(vt,Object.assign({},e)),children:i},C(a.createElement(gt,Object.assign({prefixCls:u,className:O(v,`${u}-pure-panel`,c&&h,c&&`${h}-${c}`,o,p,m)},g,{closeIcon:bt(u,n),closable:s},b)))},uo=rn(co);function Rt(e){return de(jt(e))}const F=$t;F.useModal=ro;F.info=function(t){return de(Pt(t))};F.success=function(t){return de(Mt(t))};F.error=function(t){return de(Nt(t))};F.warning=Rt;F.warn=Rt;F.confirm=function(t){return de(It(t))};F.destroyAll=function(){for(;Z.length;){const t=Z.pop();t&&t()}};F.config=no;F._InternalPanelDoNotUseOrYouWillBeFired=uo;const{Link:nt}=Fe,mo=({clientId:e,setClientId:t,form:o,errorMsg:n,setErrorMsg:s,errorApiKeyMsg:c,setErrorApiKeyMsg:d,successMsg:i,setSuccessMsg:r,ProcessTask:g})=>x.jsxs(x.Fragment,{children:[(c||n)&&x.jsx(se,{description:c||n,type:"error",onClose:()=>{c?d(null):s(null)}}),i&&x.jsx(se,{description:i,type:"success",onClose:()=>r(null)}),x.jsxs(ze,{form:o,layout:"vertical",onFinish:()=>g("submitForm"),children:[x.jsx(U,{name:"clientId",type:"text",value:e,onChange:l=>t(l.target.value),placeholder:"ENTER CLIENT ID",required:!0,tooltip:"Client id",rules:[{required:!0,message:"Please enter your Client ID"}]}),x.jsx(U,{name:"password",type:"password",placeholder:"ENTER PASSWORD",required:!0,tooltip:"Password",rules:[{required:!0,message:"Please enter your Password"}]}),x.jsx(U,{name:"otp_totp",type:"password",placeholder:"ENTER OTP/TOTP",required:!0,tooltip:"Otp/Totp",rules:[{required:!0,message:"Please enter your Otp/Totp"}],extra:x.jsxs(ge,{justify:"space-between",children:[x.jsx(Ce,{children:x.jsx(nt,{className:"custom-link",onClick:()=>g("getOtp"),children:"Get OTP"})}),x.jsx(Ce,{children:x.jsx(nt,{className:"custom-link",onClick:()=>g("openForgotPasswordModal"),children:"Forgot Password?"})})]})}),x.jsx(ge,{justify:"center",children:x.jsx(He,{label:"Submit",htmlType:"submit"})})]})]}),fo=({visible:e,onClose:t,SubTD:o,errorMsg:n,setErrorMsg:s,successMsg:c,setSuccessMsg:d,ProcessTask:i,form:r})=>x.jsxs(F,{className:"otp-modal",title:x.jsx("div",{className:"generateModal-header",children:x.jsx(Fe.Text,{className:"generateModal-title",children:"FORGET PASSWORD"})}),open:e,onCancel:t,footer:null,centered:!0,width:400,children:[n&&x.jsx(se,{description:n,type:"error",onClose:()=>{s(null)}}),c&&x.jsx(se,{description:c,type:"success",onClose:()=>d(null)}),x.jsxs(ze,{layout:"vertical",form:r,onFinish:()=>i("submitForm"),children:[x.jsx(U,{name:"clientId",type:"text",initialValue:o,placeholder:"ENTER CLIENT ID",required:!0,tooltip:"Client id",rules:[{required:!0,message:"Please enter your Client ID"}]}),x.jsx(U,{name:"pan",type:"password",placeholder:"ENTER PAN",required:!0,tooltip:"Pan",rules:[{required:!0,message:"Please enter your Pan"}]}),x.jsx(U,{name:"dob",type:"number",placeholder:"DOB [DDMMYYYY e.g., 01011978]",required:!0,tooltip:"DOB",rules:[{required:!0,message:"Please enter your date of birth"}]}),x.jsx(ge,{justify:"center",children:x.jsx(Ce,{children:x.jsx(He,{label:"Submit",htmlType:"submit"})})})]})]}),go=({visible:e,onClose:t,PubTD:o,apiKey:n})=>{const[s]=Ae(),[c,d]=a.useState({errorMsg:null,successMsg:null}),i=o==null?void 0:o.clnt_id;a.useEffect(()=>{e?s.setFieldsValue({clientId:i}):s.resetFields()},[e,i,s]);const r=async l=>{var v;const f=(l==null?void 0:l.clientId)??s.getFieldValue("clientId"),u=(l==null?void 0:l.password)??s.getFieldValue("pan"),m=(l==null?void 0:l.otp_totp)??s.getFieldValue("dob"),C={api_key:n,clnt_id:f,pan:u,dob:m};try{const p=await pe("forgotpassword",C);if(p.status==="success"){const h=((v=p.data)==null?void 0:v.dmsg)||"";d(b=>({...b,successMsg:h}))}else p.status==="error"&&d(h=>({...h,errorMsg:p.error_msg||"Something went wrong"}))}catch(p){console.error("API call failed:",p),d(h=>{var b;return{...h,errorMsg:((b=p==null?void 0:p.response)==null?void 0:b.statusText)||"Request failed. Please try again.",successMsg:null}})}},g=async(l,f=null)=>{switch(l){case"submitForm":r(f);break;default:console.warn("Unknown task:",l)}};return x.jsx(fo,{visible:e,onClose:t,SubTD:i,errorMsg:c.errorMsg,setErrorMsg:l=>d(f=>({...f,errorMsg:l})),successMsg:c.successMsg,setSuccessMsg:l=>d(f=>({...f,successMsg:l})),ProcessTask:g,form:s})},Co=({visible:e,onClose:t,SubTD:o,form:n,errorMsg:s,setErrorMsg:c,successMsg:d,setSuccessMsg:i,ProcessTask:r})=>x.jsxs(F,{className:"otp-modal",title:x.jsx("div",{className:"generateModal-header",children:x.jsx(Fe.Text,{className:"generateModal-title",children:"Get OTP"})}),open:e,onCancel:t,footer:null,centered:!0,width:400,children:[s&&x.jsx(se,{description:s,type:"error",onClose:()=>{c(null)}}),d&&x.jsx(se,{description:d,type:"success",onClose:()=>i(null)}),x.jsxs(ze,{layout:"vertical",form:n,onFinish:()=>r("submitForm"),children:[x.jsx(U,{name:"clientId",type:"text",initialValue:o,placeholder:"ENTER CLIENT ID",required:!0,tooltip:"Client id",rules:[{required:!0,message:"Please enter your Client ID"}]}),x.jsx(U,{name:"pan",type:"password",placeholder:"ENTER PAN",required:!0,tooltip:"Pan",rules:[{required:!0,message:"Please enter your Pan"}]}),x.jsx("div",{className:"otp-modal-footer",children:x.jsx(ge,{justify:"center",children:x.jsx(Ce,{children:x.jsx(He,{label:"Send OTP",htmlType:"submit"})})})},"note")]})]}),po=({visible:e,onClose:t,PubTD:o,apiKey:n})=>{const[s]=Ae(),[c,d]=a.useState({errorMsg:null,successMsg:null}),i=o==null?void 0:o.clnt_id;a.useEffect(()=>{e?s.setFieldsValue({clientId:i}):s.resetFields()},[e,i,s]);const r=async l=>{const f=(l==null?void 0:l.clientId)??s.getFieldValue("clientId"),u=(l==null?void 0:l.otp_totp)??s.getFieldValue("pan"),m={api_key:n,clnt_id:f,pan:u,password:""};try{const C=await pe("getotp",m);console.log("API Response:",C),C.status==="success"?d(v=>{var p;return{...v,successMsg:((p=C.data)==null?void 0:p.ReqStatus)||"Success",errorMsg:null}}):C.status==="error"&&d(v=>({...v,errorMsg:C.error_msg||"Something went wrong",successMsg:null}))}catch(C){console.error("API call failed:",C),d(v=>{var p;return{...v,errorMsg:((p=C==null?void 0:C.response)==null?void 0:p.statusText)||"Request failed. Please try again.",successMsg:null}})}},g=async(l,f=null)=>{switch(l){case"submitForm":r(f);break;default:console.warn("Unknown task:",l)}};return x.jsx(Co,{visible:e,onClose:t,form:s,SubTD:i,errorMsg:c.errorMsg,setErrorMsg:l=>d(f=>({...f,errorMsg:l})),successMsg:c.successMsg,setSuccessMsg:l=>d(f=>({...f,successMsg:l})),ProcessTask:g})},ho=()=>{const[e]=Ae(),t=tn(),[o,n]=a.useState({getOtpModal:!1,forgotPasswordModal:!1,clientId:"",errorMsg:null,successMsg:null}),{apiKey:s,errorApiKeyMsg:c,setErrorApiKeyMsg:d}=nn();a.useEffect(()=>{const u=localStorage.getItem("clientId");u&&(n(m=>({...m,clientId:u})),e.setFieldsValue({clientId:u}))},[t.search,e]);const i=async u=>{const m={api_key:s,clnt_id:u.clientId,password:btoa(u.password),pan:""};try{const C=await pe("getotp",m);C.status==="success"?n(v=>{var p;return{...v,successMsg:((p=C.data)==null?void 0:p.ReqStatus)||"OTP sent successfully"}}):n(v=>({...v,errorMsg:C.error_msg||"Failed to send OTP"}))}catch(C){cn.error("OTP request failed",C)}},r=()=>{const u=e.getFieldValue("clientId"),m=e.getFieldValue("password");u&&m?i({clientId:u,password:m}):n(C=>({...C,getOtpModal:!0}))},g=async(u=null)=>{var h;if(c){console.error("API Key Error present.");return}n(b=>({...b,errorMsg:null}));const m=(u==null?void 0:u.clientId)??e.getFieldValue("clientId"),C=(u==null?void 0:u.password)??e.getFieldValue("password"),v=(u==null?void 0:u.otp_totp)??e.getFieldValue("otp_totp"),p={api_key:s,clnt_id:m,password:btoa(C),factor2:v};try{const b=await pe("quickauth",p);if(b.status==="success"){const y=(h=b.data)==null?void 0:h.ru;y?window.location.href=y:console.log("Redirect URL not found in response.")}else n(y=>({...y,errorMsg:b.error_msg||"Something went wrong"}))}catch(b){console.error("API call failed:",b),n(y=>{var w;return{...y,errorMsg:((w=b==null?void 0:b.response)==null?void 0:w.statusText)||"Request failed. Please try again."}})}m&&localStorage.setItem("clientId",m)},l=()=>{n(u=>({...u,forgotPasswordModal:!0}))},f=async(u,m=null)=>{switch(u){case"getOtp":r();break;case"submitForm":g(m);break;case"openForgotPasswordModal":l();break;default:console.warn("Unknown task:",u)}};return x.jsxs(x.Fragment,{children:[x.jsx(mo,{setGoodwillOtpModal:u=>n(m=>({...m,getOtpModal:u})),setForgotPasswordModal:u=>n(m=>({...m,forgotPasswordModal:u})),clientId:o.clientId,setClientId:u=>n(m=>({...m,clientId:u})),ProcessTask:f,form:e,errorMsg:o.errorMsg,setErrorMsg:u=>n(m=>({...m,errorMsg:u})),errorApiKeyMsg:c,setErrorApiKeyMsg:d,successMsg:o.successMsg,setSuccessMsg:u=>n(m=>({...m,successMsg:u}))}),x.jsx(po,{visible:o.getOtpModal,onClose:()=>n(u=>({...u,getOtpModal:!1})),PubTD:{clnt_id:o.clientId},apiKey:s}),x.jsx(go,{visible:o.forgotPasswordModal,onClose:()=>n(u=>({...u,forgotPasswordModal:!1})),PubTD:{clnt_id:o.clientId},apiKey:s})]})};export{ho as QuickAuthController,ho as default};
